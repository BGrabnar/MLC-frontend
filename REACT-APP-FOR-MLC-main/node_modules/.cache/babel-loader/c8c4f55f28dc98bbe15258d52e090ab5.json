{"ast":null,"code":"// gets the query and retuns the list of data from the query\n// works when query reutns only one column\nexport async function getList(reqURL, query) {\n  var list = []; // post request\n\n  var req = reqURL + encodeURIComponent(query);\n  /* http.get(req, (resp) => {\r\n  \tlet data = '';\r\n  \t\r\n  \t// A chunk of data has been received.\r\n  \tresp.on('data', (chunk) => {\r\n  \t\tdata += chunk;\r\n  \t});\r\n  \t\r\n  \t// The whole response has been received. Print out the result.\r\n  \tresp\r\n  \t.on('end', () => {\r\n  \t\t// extract the dataset names from html\r\n  \t\tfor (let i = 0; i < data.split('<literal>').length; i++)\r\n  \t\t{\r\n  \t\t\tlist[i] = data.split('<literal>')[i].split('</literal>')[0];\r\n  \t\t}\r\n  \t\tlist.shift();\r\n  \t\tlist.sort((a, b) => a.localeCompare(b, undefined, {sensitivity: 'base'})); // sort\r\n  \t\t});\r\n  \t})\r\n  \t.on(\"error\", (err) => {\r\n  \t\tconsole.log(err)\r\n  \t}); */\n\n  await fetch(req).then(data => data.text()).then(data => {\n    console.log(data);\n\n    for (let i = 0; i < data.split('<literal>').length; i++) {\n      list[i] = data.split('<literal>')[i].split('</literal>')[0];\n    }\n\n    list.shift();\n    list.sort((a, b) => a.localeCompare(b, undefined, {\n      sensitivity: 'base'\n    })); // sort\n  }).catch(\"error\", err => {\n    console.log(err);\n  });\n  return list;\n}","map":{"version":3,"sources":["C:/Users/Andrej/Documents/React/REACT-APP-FOR-MLC-main/src/components/utils.js"],"names":["getList","reqURL","query","list","req","encodeURIComponent","fetch","then","data","text","console","log","i","split","length","shift","sort","a","b","localeCompare","undefined","sensitivity","catch","err"],"mappings":"AAAA;AACA;AACA,OAAO,eAAeA,OAAf,CAAuBC,MAAvB,EAA+BC,KAA/B,EACP;AACC,MAAIC,IAAI,GAAG,EAAX,CADD,CAGC;;AACA,MAAIC,GAAG,GAAGH,MAAM,GAACI,kBAAkB,CAACH,KAAD,CAAnC;AACA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGC,QAAMI,KAAK,CAACF,GAAD,CAAL,CAAWG,IAAX,CAAiBC,IAAD,IAAUA,IAAI,CAACC,IAAL,EAA1B,EACFF,IADE,CACGC,IAAI,IAAK;AACbE,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;;AACH,SAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,IAAI,CAACK,KAAL,CAAW,WAAX,EAAwBC,MAA5C,EAAoDF,CAAC,EAArD,EACA;AACCT,MAAAA,IAAI,CAACS,CAAD,CAAJ,GAAUJ,IAAI,CAACK,KAAL,CAAW,WAAX,EAAwBD,CAAxB,EAA2BC,KAA3B,CAAiC,YAAjC,EAA+C,CAA/C,CAAV;AACA;;AACDV,IAAAA,IAAI,CAACY,KAAL;AACAZ,IAAAA,IAAI,CAACa,IAAL,CAAU,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACE,aAAF,CAAgBD,CAAhB,EAAmBE,SAAnB,EAA8B;AAACC,MAAAA,WAAW,EAAE;AAAd,KAA9B,CAApB,EAPgB,CAO2D;AACzE,GATE,EAULC,KAVK,CAUC,OAVD,EAUWC,GAAD,IAAS;AACxBb,IAAAA,OAAO,CAACC,GAAR,CAAYY,GAAZ;AACA,GAZK,CAAN;AAcA,SAAOpB,IAAP;AACA","sourcesContent":["// gets the query and retuns the list of data from the query\r\n// works when query reutns only one column\r\nexport async function getList(reqURL, query)\r\n{\r\n\tvar list = [];\r\n\r\n\t// post request\r\n\tvar req = reqURL+encodeURIComponent(query)\r\n\t/* http.get(req, (resp) => {\r\n\t\tlet data = '';\r\n\t\t\r\n\t\t// A chunk of data has been received.\r\n\t\tresp.on('data', (chunk) => {\r\n\t\t\tdata += chunk;\r\n\t\t});\r\n\t\t\r\n\t\t// The whole response has been received. Print out the result.\r\n\t\tresp\r\n\t\t.on('end', () => {\r\n\t\t\t// extract the dataset names from html\r\n\t\t\tfor (let i = 0; i < data.split('<literal>').length; i++)\r\n\t\t\t{\r\n\t\t\t\tlist[i] = data.split('<literal>')[i].split('</literal>')[0];\r\n\t\t\t}\r\n\t\t\tlist.shift();\r\n\t\t\tlist.sort((a, b) => a.localeCompare(b, undefined, {sensitivity: 'base'})); // sort\r\n\t\t\t});\r\n\t\t})\r\n\t\t.on(\"error\", (err) => {\r\n\t\t\tconsole.log(err)\r\n\t\t}); */\r\n\t\r\n\r\n\tawait fetch(req).then((data) => data.text())\r\n    .then(data  => {\r\n      console.log(data);\r\n\t  for (let i = 0; i < data.split('<literal>').length; i++)\r\n\t\t\t{\r\n\t\t\t\tlist[i] = data.split('<literal>')[i].split('</literal>')[0];\r\n\t\t\t}\r\n\t\t\tlist.shift();\r\n\t\t\tlist.sort((a, b) => a.localeCompare(b, undefined, {sensitivity: 'base'})); // sort\r\n    })\r\n\t.catch(\"error\", (err) => {\r\n\t\tconsole.log(err)\r\n\t})  \r\n\t\r\n\treturn list;\r\n}"]},"metadata":{},"sourceType":"module"}