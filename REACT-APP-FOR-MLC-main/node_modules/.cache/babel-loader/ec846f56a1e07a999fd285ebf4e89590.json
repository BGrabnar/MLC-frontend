{"ast":null,"code":"const http = require('http'); // gets the query and retuns the list of data from the query\n\n\nexport function getList(query, type) {\n  var list = []; // post request\n\n  var req = \"http://semanticannotations.ijs.si:8890/sparql?default-graph-uri=http%3A%2F%2Flocalhost%3A8890%2FMLC&&Content-Type='application/json'&query=\" + encodeURIComponent(query);\n  http.get(req, resp => {\n    let data = ''; // A chunk of data has been received.\n\n    resp.on('data', chunk => {\n      data += chunk;\n    }); // The whole response has been received. Print out the result.\n\n    resp.on('end', () => {\n      // extract the dataset names from html\n      for (let i = 0; i < data.split('<literal>').length; i++) {\n        if (type === \"datasets\") {\n          list[i] = data.split('<literal>')[i].split('.arff')[0];\n        } else {\n          list[i] = data.split('<literal>')[i].split('</literal>')[0];\n        }\n      }\n\n      list.shift();\n      list.sort((a, b) => a.localeCompare(b, undefined, {\n        sensitivity: 'base'\n      }));\n    });\n  }).on(\"error\", err => {\n    console.log(err);\n  });\n  return list;\n}","map":{"version":3,"sources":["C:/Users/Andrej/Documents/React/REACT-APP-FOR-MLC-main/src/components/utils.js"],"names":["http","require","getList","query","type","list","req","encodeURIComponent","get","resp","data","on","chunk","i","split","length","shift","sort","a","b","localeCompare","undefined","sensitivity","err","console","log"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB,C,CAEA;;;AACA,OAAO,SAASC,OAAT,CAAiBC,KAAjB,EAAwBC,IAAxB,EACP;AACC,MAAIC,IAAI,GAAG,EAAX,CADD,CAGC;;AACA,MAAIC,GAAG,GAAG,gJAA8IC,kBAAkB,CAACJ,KAAD,CAA1K;AACAH,EAAAA,IAAI,CAACQ,GAAL,CAASF,GAAT,EAAeG,IAAD,IAAU;AACvB,QAAIC,IAAI,GAAG,EAAX,CADuB,CAGvB;;AACAD,IAAAA,IAAI,CAACE,EAAL,CAAQ,MAAR,EAAiBC,KAAD,IAAW;AAC1BF,MAAAA,IAAI,IAAIE,KAAR;AACA,KAFD,EAJuB,CAQvB;;AACAH,IAAAA,IAAI,CACHE,EADD,CACI,KADJ,EACW,MAAM;AAChB;AACA,WAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,IAAI,CAACI,KAAL,CAAW,WAAX,EAAwBC,MAA5C,EAAoDF,CAAC,EAArD,EACA;AACC,YAAIT,IAAI,KAAK,UAAb,EACA;AACCC,UAAAA,IAAI,CAACQ,CAAD,CAAJ,GAAUH,IAAI,CAACI,KAAL,CAAW,WAAX,EAAwBD,CAAxB,EAA2BC,KAA3B,CAAiC,OAAjC,EAA0C,CAA1C,CAAV;AACA,SAHD,MAKA;AACCT,UAAAA,IAAI,CAACQ,CAAD,CAAJ,GAAUH,IAAI,CAACI,KAAL,CAAW,WAAX,EAAwBD,CAAxB,EAA2BC,KAA3B,CAAiC,YAAjC,EAA+C,CAA/C,CAAV;AACA;AACD;;AACDT,MAAAA,IAAI,CAACW,KAAL;AACAX,MAAAA,IAAI,CAACY,IAAL,CAAU,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACE,aAAF,CAAgBD,CAAhB,EAAmBE,SAAnB,EAA8B;AAACC,QAAAA,WAAW,EAAE;AAAd,OAA9B,CAApB;AAEC,KAjBF;AAkBC,GA3BF,EA4BEX,EA5BF,CA4BK,OA5BL,EA4BeY,GAAD,IAAS;AACrBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,GA9BF;AAgCA,SAAOlB,IAAP;AACA","sourcesContent":["const http = require('http')\r\n\r\n// gets the query and retuns the list of data from the query\r\nexport function getList(query, type)\r\n{\r\n\tvar list = [];\r\n\r\n\t// post request\r\n\tvar req = \"http://semanticannotations.ijs.si:8890/sparql?default-graph-uri=http%3A%2F%2Flocalhost%3A8890%2FMLC&&Content-Type='application/json'&query=\"+encodeURIComponent(query)\r\n\thttp.get(req, (resp) => {\r\n\t\tlet data = '';\r\n\t\t\r\n\t\t// A chunk of data has been received.\r\n\t\tresp.on('data', (chunk) => {\r\n\t\t\tdata += chunk;\r\n\t\t});\r\n\t\t\r\n\t\t// The whole response has been received. Print out the result.\r\n\t\tresp\r\n\t\t.on('end', () => {\r\n\t\t\t// extract the dataset names from html\r\n\t\t\tfor (let i = 0; i < data.split('<literal>').length; i++)\r\n\t\t\t{\r\n\t\t\t\tif (type === \"datasets\")\r\n\t\t\t\t{\r\n\t\t\t\t\tlist[i] = data.split('<literal>')[i].split('.arff')[0];\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tlist[i] = data.split('<literal>')[i].split('</literal>')[0];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlist.shift();\r\n\t\t\tlist.sort((a, b) => a.localeCompare(b, undefined, {sensitivity: 'base'}));\r\n\r\n\t\t\t});\r\n\t\t})\r\n\t\t.on(\"error\", (err) => {\r\n\t\t\tconsole.log(err)\r\n\t\t});\r\n\r\n\treturn list;\r\n}"]},"metadata":{},"sourceType":"module"}